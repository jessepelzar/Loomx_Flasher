<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loomx Controller Flasher</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="scripts/install-button.js?module"></script>
</head>

<body>

    
    <div id="main">
        <h1>LOOMX CONTROLLER FLASHER</h1>
        <div id="subText">
            <p>Connect your Loomx controller via USB and press the connect button. The device will show up as USB to UART Bridge Controller.</p>
            <p class="bold">NOTE: before pressing install, hold the boot button (right of the USB port on the controller) down, then press install and keep holding until the progress wheel shows it uploading. Then you can release it.</p>
        </div>
        <esp-web-install-button id="installButton" manifest="https://jessepelzar.github.io/Loomx_Flasher/test/manifest.json">Install 1.0.17</esp-web-install-button>
        <!-- <p>NOTE: Make sure to close anything using your devices com port (e.g. Serial monitor)</p> -->
    </div>

    <div id="notSupported">
        <p>Your browser does not support the Web Serial API. Try Chrome</p>
    </div>

    <script>
        if(navigator.serial){
            document.getElementById("notSupported").style.display = 'none';
            document.getElementById("main").style.display = 'block';
        } else {
            document.getElementById("notSupported").style.display = 'block';
            document.getElementById("main").style.display = 'none';
        }
    </script>

</body>

</html>
